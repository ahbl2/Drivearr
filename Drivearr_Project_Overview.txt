# Drivearr â€“ Project Overview for Cursor AI
Date: 2025-06-04

## ğŸ¯ Project Name
**Drivearr**

## ğŸ§  Project Intent
Drivearr is a self-hosted tool that allows users to selectively sync movies and TV shows from their Plex library to an external USB drive for offline viewing, sharing, or mobile playback.

The goal is to make this process seamless and smart:
- Show the full Plex library (with poster art)
- Detect whatâ€™s already on a plugged-in USB drive
- Let the user queue up specific seasons, episodes, or full shows/movies
- Copy only missing or new items
- Track sync history per drive via `.plex2drive.json`
- Provide a friendly web-based interface for configuration and control

---

## ğŸ› ï¸ Functionality Highlights

- âœ… Plex Library Integration via Plex API (TV Shows and Movies)
- âœ… Poster art, metadata, and browsing UI
- âœ… Queue-based and real-time sync of media to USB drives
- âœ… Auto-detection of partial seasons and missing files
- âœ… Smart USB comparison + skip already copied content
- âœ… First-launch setup wizard and config editor
- âœ… Persistent settings stored in `config.json`
- âœ… `.plex2drive.json` saved on each drive to track whatâ€™s been synced
- âœ… Responsive Vue 3 frontend with dark mode and modular components

---

## ğŸ—‚ï¸ Current File Structure (Core)

drivearr/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ config.js
â”‚   â”‚   â”œâ”€â”€ plex.js
â”‚   â”‚   â”œâ”€â”€ sync.js
â”‚   â”‚   â””â”€â”€ usb.js
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ configManager.js
â”‚   â”‚   â”œâ”€â”€ driveScanner.js
â”‚   â”‚   â”œâ”€â”€ manifestManager.js
â”‚   â”‚   â”œâ”€â”€ plexScanner.js
â”‚   â”‚   â””â”€â”€ syncEngine.js
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ fileUtils.js
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.json (auto-generated at runtime)
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main.js
â”‚       â””â”€â”€ components/
â”‚           â”œâ”€â”€ InitialSetup.vue
â”‚           â”œâ”€â”€ LibraryBrowser.vue
â”‚           â””â”€â”€ SyncQueue.vue
â”œâ”€â”€ .env (optional)
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md

---

## ğŸ§ª Dev/Run Instructions

### Run via Docker:
1. `docker build -t drivearr .`
2. `docker run -d --name drivearr -p 3000:3000 -v "/plex/tv:/plex/tv" -v "/plex/movies:/plex/movies" -v "/mnt/disks:/usbdrives" drivearr`
3. Visit `http://<your-ip>:3000` to begin setup

### Run Locally (dev):
- Backend: `node backend/index.js`
- Frontend: `npm run dev` from `/frontend`

---

## ğŸ“Œ Notes for Cursor AI Use
Cursor should be used to:
- Extend Vue components or route logic
- Refactor service layers like sync or USB detection
- Add friend-specific profiles or tagging
- Optimize frontend state or introduce Vuex/Pinia if needed
